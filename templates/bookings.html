<!DOCTYPE html>
<html>
<head>
    <title>Bookings</title>
</head>
<body>
<h2>Bookings Module</h2>

<!-- Add Booking Form -->
<h3>Add Booking</h3>
<form method="POST">
    <label>Customer:</label>
    <select name="customer_id" required>
        {% for c in customers %}
        <option value="{{ c.id }}">{{ c.name }}</option>
        {% endfor %}
    </select>

    <label>Room:</label>
    <select name="room_id" required>
        {% for r in rooms %}
        <option value="{{ r.id }}">{{ r.room_no }} ({{ r.type }})</option>
        {% endfor %}
    </select>

    <label>Check-in:</label>
    <input type="date" name="checkin" required>
    <label>Check-out:</label>
    <input type="date" name="checkout" required>

    <button type="submit">Add Booking</button>
</form>

<!-- Display All Bookings -->
<h3>All Bookings</h3>
<table border="1">
    <tr>
        <th>ID</th>
        <th>Customer</th>
        <th>Room</th>
        <th>Check-in</th>
        <th>Check-out</th>
        <th>Action</th>
    </tr>
    {% for b in bookings %}
    <tr>
        <td>{{ b.id }}</td>
        <td>{{ b.customer.name }}</td>
        <td>{{ b.room.room_no }} ({{ b.room.type }})</td>
        <td>{{ b.checkin }}</td>
        <td>{{ b.checkout }}</td>
        <td>
            <a href="{{ url_for('cancel_booking', id=b.id) }}"
               onclick="return confirm('Are you sure you want to cancel this booking?');">
               Cancel
            </a>
        </td>
    </tr>
    {% endfor %}
</table>

</body>
</html>
